<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Tic-Tac-Toe (PvP)</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        text-align: center;
        background: #f2f2f2;
        margin: 0;
        padding: 0;
      }

      h1 {
        margin-top: 20px;
        color: #333;
      }

      #game {
        display: grid;
        grid-template-columns: repeat(3, 100px);
        grid-template-rows: repeat(3, 100px);
        gap: 5px;
        margin: 20px auto;
        width: 315px;
      }

      .cell {
        background: white;
        border: 2px solid #444;
        font-size: 2.5em;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        transition: background 0.3s;
      }

      .cell:hover {
        background: #f9f9f9;
      }

      #status {
        font-size: 1.2em;
        margin: 10px;
      }

      button {
        padding: 10px 15px;
        margin: 5px;
        font-size: 1em;
        border: none;
        border-radius: 5px;
        background: #007bff;
        color: white;
        cursor: pointer;
        transition: background 0.3s;
      }

      button:hover {
        background: #0056b3;
      }
    </style>
  </head>
  <body>
    <h1>Tic-Tac-Toe (Player vs Player)</h1>
    <button onclick="resetGame()">Restart</button>

    <div id="status">Player X's turn</div>
    <div id="game"></div>

    <script>
      const gameBoard = document.getElementById("game");
      const statusDiv = document.getElementById("status");

      let board, currentPlayer, gameActive;

      function initBoard() {
        gameBoard.innerHTML = "";
        board = Array(9).fill("");
        gameActive = true;
        currentPlayer = "X";

        board.forEach((_, index) => {
          const cell = document.createElement("div");
          cell.classList.add("cell");
          cell.dataset.index = index;
          cell.addEventListener("click", handleCellClick);
          gameBoard.appendChild(cell);
        });

        updateStatus();
      }

      function handleCellClick(e) {
        const index = e.target.dataset.index;

        if (!gameActive || board[index] !== "") return;

        makeMove(index, currentPlayer);
      }

      function makeMove(index, player) {
        board[index] = player;
        document.querySelector(`[data-index='${index}']`).textContent = player;

        if (checkWinner(player)) {
          statusDiv.textContent = `Player ${player} wins! ðŸŽ‰`;
          gameActive = false;
        } else if (!board.includes("")) {
          statusDiv.textContent = "It's a draw! ðŸ¤";
          gameActive = false;
        } else {
          currentPlayer = currentPlayer === "X" ? "O" : "X";
          updateStatus();
        }
      }

      function checkWinner(player) {
        const winPatterns = [
          [0, 1, 2],
          [3, 4, 5],
          [6, 7, 8], // rows
          [0, 3, 6],
          [1, 4, 7],
          [2, 5, 8], // cols
          [0, 4, 8],
          [2, 4, 6], // diagonals
        ];
        return winPatterns.some((pattern) =>
          pattern.every((index) => board[index] === player)
        );
      }

      function updateStatus() {
        statusDiv.textContent = `Player ${currentPlayer}'s turn`;
      }

      function resetGame() {
        initBoard();
      }

      // Initialize on load
      initBoard();
    </script>
  </body>
</html>
